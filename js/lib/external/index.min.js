!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.libraryStarter=e():t.libraryStarter=e()}(this,(()=>(()=>{var t,e,r,a,n={494:(t,e)=>{var r;r=function(t){t.version="1.3.1",t.bstr=function(t,e){var r=1,a=0,n=t.length,i=0;"number"==typeof e&&(r=65535&e,a=e>>>16);for(var s=0;s<n;){for(i=Math.min(n-s,2654)+s;s<i;s++)a+=r+=255&t.charCodeAt(s);r=15*(r>>>16)+(65535&r),a=15*(a>>>16)+(65535&a)}return a%65521<<16|r%65521},t.buf=function(t,e){var r=1,a=0,n=t.length,i=0;"number"==typeof e&&(r=65535&e,a=e>>>16&65535);for(var s=0;s<n;){for(i=Math.min(n-s,2654)+s;s<i;s++)a+=r+=255&t[s];r=15*(r>>>16)+(65535&r),a=15*(a>>>16)+(65535&a)}return a%65521<<16|r%65521},t.str=function(t,e){var r=1,a=0,n=t.length,i=0,s=0,o=0;"number"==typeof e&&(r=65535&e,a=e>>>16);for(var p=0;p<n;){for(i=Math.min(n-p,2918);i>0;)(s=t.charCodeAt(p++))<128?r+=s:s<2048?(a+=r+=192|s>>6&31,--i,r+=128|63&s):s>=55296&&s<57344?(a+=r+=240|(s=64+(1023&s))>>8&7,--i,a+=r+=128|s>>2&63,--i,a+=r+=128|(o=1023&t.charCodeAt(p++))>>6&15|(3&s)<<4,--i,r+=128|63&o):(a+=r+=224|s>>12&15,--i,a+=r+=128|s>>6&63,--i,r+=128|63&s),a+=r,--i;r=15*(r>>>16)+(65535&r),a=15*(a>>>16)+(65535&a)}return a%65521<<16|r%65521}},"undefined"==typeof DO_NOT_EXPORT_ADLER?r(e):r({})},287:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var a=r(601),n=r.n(a),i=r(314),s=r.n(i)()(n());s.push([t.id,'.bastyon_auth_button img{margin-left:6px}.bastyon_auth_button,.bastyon_payment_button{font-family:"Segoe UI Variable","Segoe UI",SegoeUI,"Helvetica Neue",Helvetica,Arial,sans-serif;border-radius:5px !important;max-height:inherit !important;max-width:inherit !important;min-height:46px !important;min-width:230px !important;-webkit-appearance:button;appearance:button;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;border:1px solid #f6f6f6;-moz-transition:.3s !important;-o-transition:.3s !important;-webkit-transition:.3s !important;transition:.3s !important;display:flex;justify-content:center;align-items:center;padding-left:26px;padding-right:16px}.bastyon_auth_button img,.bastyon_payment_button img{height:19px}.bastyon_auth_button.black,.bastyon_payment_button.black{background:#011621 !important;border-color:#011621 !important}.bastyon_auth_button.black:hover,.bastyon_payment_button.black:hover{background:#001927 !important;border-color:#001927 !important}.bastyon_auth_button.white,.bastyon_payment_button.white{background:#f6f6f6 !important;border-color:#f6f6f6 !important}.bastyon_auth_button.white:hover,.bastyon_payment_button.white:hover{background:rgba(231,231,231,.9647058824) !important;border-color:rgba(231,231,231,.9647058824) !important}',""]);const o=s},314:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r="",a=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),a&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=t(e),a&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r})).join("")},e.i=function(t,r,a,n,i){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(a)for(var o=0;o<this.length;o++){var p=this[o][0];null!=p&&(s[p]=!0)}for(var u=0;u<t.length;u++){var c=[].concat(t[u]);a&&s[c[0]]||(void 0!==i&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),r&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=r):c[2]=r),n&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=n):c[4]="".concat(n)),e.push(c))}},e}},601:t=>{"use strict";t.exports=function(t){return t[1]}},72:t=>{"use strict";var e=[];function r(t){for(var r=-1,a=0;a<e.length;a++)if(e[a].identifier===t){r=a;break}return r}function a(t,a){for(var i={},s=[],o=0;o<t.length;o++){var p=t[o],u=a.base?p[0]+a.base:p[0],c=i[u]||0,m="".concat(u," ").concat(c);i[u]=c+1;var l=r(m),h={css:p[1],media:p[2],sourceMap:p[3],supports:p[4],layer:p[5]};if(-1!==l)e[l].references++,e[l].updater(h);else{var f=n(h,a);a.byIndex=o,e.splice(o,0,{identifier:m,updater:f,references:1})}s.push(m)}return s}function n(t,e){var r=e.domAPI(e);return r.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;r.update(t=e)}else r.remove()}}t.exports=function(t,n){var i=a(t=t||[],n=n||{});return function(t){t=t||[];for(var s=0;s<i.length;s++){var o=r(i[s]);e[o].references--}for(var p=a(t,n),u=0;u<i.length;u++){var c=r(i[u]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}i=p}}},659:t=>{"use strict";var e={};t.exports=function(t,r){var a=function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}(t);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(r)}},540:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,r)=>{"use strict";t.exports=function(t){var e=r.nc;e&&t.setAttribute("nonce",e)}},825:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(r){!function(t,e,r){var a="";r.supports&&(a+="@supports (".concat(r.supports,") {")),r.media&&(a+="@media ".concat(r.media," {"));var n=void 0!==r.layer;n&&(a+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),a+=r.css,n&&(a+="}"),r.media&&(a+="}"),r.supports&&(a+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(a,t,e.options)}(e,t,r)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},i={};function s(t){var e=i[t];if(void 0!==e)return e.exports;var r=i[t]={id:t,exports:{}};return n[t](r,r.exports,s),r.exports}s.m=n,s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,s.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"==typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"==typeof r.then)return r}var n=Object.create(null);s.r(n);var i={};t=t||[null,e({}),e([]),e(e)];for(var o=2&a&&r;"object"==typeof o&&!~t.indexOf(o);o=e(o))Object.getOwnPropertyNames(o).forEach((t=>i[t]=()=>r[t]));return i.default=()=>r,s.d(n,i),n},s.d=(t,e)=>{for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},s.f={},s.e=t=>Promise.all(Object.keys(s.f).reduce(((e,r)=>(s.f[r](t,e),e)),[])),s.u=t=>t+".min.js",s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r={},a="libraryStarter:",s.l=(t,e,n,i)=>{if(r[t])r[t].push(e);else{var o,p;if(void 0!==n)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var m=u[c];if(m.getAttribute("src")==t||m.getAttribute("data-webpack")==a+n){o=m;break}}o||(p=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.setAttribute("data-webpack",a+n),o.src=t),r[t]=[e];var l=(e,a)=>{o.onerror=o.onload=null,clearTimeout(h);var n=r[t];if(delete r[t],o.parentNode&&o.parentNode.removeChild(o),n&&n.forEach((t=>t(a))),e)return e(a)},h=setTimeout(l.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=l.bind(null,o.onerror),o.onload=l.bind(null,o.onload),p&&document.head.appendChild(o)}},s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.p="./js/lib/external/",(()=>{var t={57:0};s.f.j=(e,r)=>{var a=s.o(t,e)?t[e]:void 0;if(0!==a)if(a)r.push(a[2]);else{var n=new Promise(((r,n)=>a=t[e]=[r,n]));r.push(a[2]=n);var i=s.p+s.u(e),o=new Error;s.l(i,(r=>{if(s.o(t,e)&&(0!==(a=t[e])&&(t[e]=void 0),a)){var n=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;o.message="Loading chunk "+e+" failed.\n("+n+": "+i+")",o.name="ChunkLoadError",o.type=n,o.request=i,a[1](o)}}),"chunk-"+e,e)}};var e=(e,r)=>{var a,n,[i,o,p]=r,u=0;if(i.some((e=>0!==t[e]))){for(a in o)s.o(o,a)&&(s.m[a]=o[a]);p&&p(s)}for(e&&e(r);u<i.length;u++)n=i[u],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0},r=this.webpackChunklibraryStarter=this.webpackChunklibraryStarter||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})(),s.nc=void 0;var o={};return(()=>{"use strict";s.r(o),s.d(o,{default:()=>R});var t=s(72),e=s.n(t),r=s(825),a=s.n(r),n=s(659),i=s.n(n),p=s(56),u=s.n(p),c=s(540),m=s.n(c),l=s(113),h=s.n(l),f=s(287),y={};y.styleTagTransform=h(),y.setAttributes=u(),y.insert=i().bind(null,"head"),y.domAPI=a(),y.insertStyleElement=m(),e()(f.A,y),f.A&&f.A.locals&&f.A.locals;const d={hexEncode:function(t){for(var e=0,r="",a=0;a<t.length;a++){for((e=t.charCodeAt(a))>255&&(e-=848),e=e.toString(16);e.length<2;)e="0"+e;r+=e}return r},hexDecode:function(t){var e=0,r="";t=trim(t);for(var a=2;a<=t.length;a+=2)(e=parseInt(t.substring(a-2,a),16))>=128&&(e+=848),r+=e=String.fromCharCode("0x"+e.toString(16));return r}};function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(Object(r),!0).forEach((function(e){g(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function g(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var _=s(494);const O=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.configs=r,this.parameters=v({},e),this.parameters.payment||(this.parameters.payment={}),this.parameters.style||(this.parameters.style="black"),this.parameters.payment.s_url&&(this.parameters.payment.email||(this.parameters.payment.email=!0),this.parameters.payment.phone||(this.parameters.payment.phone=!0)),this.parameters.payment.anonimus&&(delete this.parameters.payment.s_url,delete this.parameters.payment.email,delete this.parameters.payment.phone),this.parameters.payment.expired&&this.parameters.payment.expired<=0&&delete this.parameters.payment.expired,this.parameters.payment.payload&&!this.parameters.payment.expired||(this.parameters.payment.date=(new Date).getTime()),"black"!=this.parameters.style&&"white"!=this.parameters.style&&(this.parameters.style="black")}var e,r;return e=t,(r=[{key:"getHash",value:function(){var t=this.parameters.payment,e=[];e.push(t.address),e.push(JSON.stringify(t.items)),t.store&&e.push(JSON.stringify(t.store)),t.payload?e.push(JSON.stringify(t.payload)):e.push(JSON.stringify(t.date));var r=_.str(e.join("_"));return r<0&&(r=-r),r+""}},{key:"makeURLParameters",value:function(){v({action:"pay"},this.parameters.payment);var t={};if(this.parameters.payment.s_url&&(t.s=this.parameters.payment.s_url),this.parameters.payment.shipmentValue&&(t.sv=this.parameters.payment.shipmentValue),this.parameters.payment.c_url&&(t.c=this.parameters.payment.c_url),this.parameters.payment.c_url_type&&"fetch"!=this.parameters.payment.c_url_type&&(t.ct=this.parameters.payment.c_url_type),this.parameters.payment.address&&(t.ad=this.parameters.payment.address),this.parameters.payment.email&&(t.e=1),this.parameters.payment.phone&&(t.p=1),this.parameters.payment.anonimus&&(t.an=1),this.parameters.payment.payload&&(t.pl=this.parameters.payment.payload),this.parameters.payment.date&&(t.d=this.parameters.payment.date),this.parameters.payment.expired&&(t.ex=this.parameters.payment.expired),this.parameters.payment.value&&(t.v=this.parameters.payment.value),this.parameters.payment.description&&(t.de=this.parameters.payment.description),this.parameters.payment.saltValue&&(t.sv=this.parameters.payment.saltValue),this.parameters.payment.discount&&(t.di=this.parameters.payment.discount),this.parameters.payment.tax&&(t.ta=this.parameters.payment.tax),t.h=this.getHash(),this.parameters.payment.store&&(t.st={},this.parameters.payment.store.name&&(t.st.n=this.parameters.payment.store.name),this.parameters.payment.store.site&&(t.st.s=this.parameters.payment.store.site)),this.parameters.payment.items&&this.parameters.payment.items.length){t.i=[];for(var e=0;e<this.parameters.payment.items.length;e++){var r=this.parameters.payment.items[e];if(r){var a={};r.image&&(a.i=r.image),r.name&&(a.n=r.name),r.value&&(a.v=r.value),r.count&&(a.c=r.count),t.i.push(a)}}}return v({a:"p"},t)}},{key:"makeURLHash",value:function(){var t=this.makeURLParameters();return"_"+d.hexEncode(JSON.stringify(t))}},{key:"makeURLQHash",value:function(){var t=this.makeURLParameters();return encodeURI(JSON.stringify(t))}},{key:"makeURL",value:function(t){return"https://"+this.configs.url+"/index?ext="+(t?this.makeURLQHash():this.makeURLHash())}},{key:"makeButton",value:function(){var t=this.makeDummyButton();return this.liveButton(t),t}},{key:"liveButton",value:function(t){var e=this,r=this.makeURL();t.addEventListener("click",(function(){window.open(r,e.parameters.target||"_blank").focus()}))}},{key:"makeDummyButton",value:function(){var t=document.createElement("button");return t.innerHTML='<img src="https://'+this.configs.url+"/img/logotypes/payment_logo_"+this.parameters.style+'.svg">',t.classList.add("bastyon_payment_button"),this.parameters.style&&t.classList.add(this.parameters.style),t}},{key:"makeQR",value:function(){var t=this;return s.e(583).then(s.t.bind(s,583,19)).then((function(e){return new Promise((function(r,a){e.toDataURL(t.makeURL(!0),(function(t,e){if(t)return a(t);r(e)}))}))}))}}])&&k(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function w(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function x(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?w(Object(r),!0).forEach((function(e){j(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function j(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}const L=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.configs=r,this.parameters=x({},e),this.parameters.auth||(this.parameters.auth={}),this.parameters.style||(this.parameters.style="black"),this.parameters.auth.c_url,"black"!=this.parameters.style&&"white"!=this.parameters.style&&(this.parameters.style="black")}var e,r;return e=t,(r=[{key:"makeURLParameters",value:function(){var t={};return this.parameters.auth.c_url&&(t.c=this.parameters.auth.c_url),this.parameters.auth.c_url_type&&(t.ct=this.parameters.auth.c_url_type),x({a:"a"},t)}},{key:"makeURLHash",value:function(){var t=this.makeURLParameters();return"_"+d.hexEncode(JSON.stringify(t))}},{key:"makeURLQHash",value:function(){var t=this.makeURLParameters();return encodeURI(JSON.stringify(t))}},{key:"makeURL",value:function(t){return"https://"+this.configs.url+"/index?ext="+(t?this.makeURLQHash():this.makeURLHash())}},{key:"makeButton",value:function(){var t=this.makeDummyButton();return this.liveButton(t),t}},{key:"liveButton",value:function(t){var e=this.makeURL();t.addEventListener("click",(function(){window.open(e,"_blank").focus()}))}},{key:"makeDummyButton",value:function(){var t=document.createElement("button");return t.innerHTML='Sign in via <img src="https://'+this.configs.url+"/img/logotypes/platform_logo_"+this.parameters.style+'.svg">',t.classList.add("bastyon_auth_button"),this.parameters.style&&t.classList.add(this.parameters.style),t}},{key:"makeQR",value:function(){var t=this;return s.e(583).then(s.t.bind(s,583,19)).then((function(e){return new Promise((function(r,a){e.toDataURL(t.makeURL(!0),(function(t,e){if(t)return a(t);r(e)}))}))}))}}])&&P(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();var S=function(t){var e=this;return e.payments=function(e){return new O(e,t)},e.auth=function(e){return new L(e,t)},e};window.__BastyonLib=S;const R=S})(),o})()));